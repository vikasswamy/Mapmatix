/*!
 * colorin v0.2.0
  */
!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((t=t||self).colorin=t.colorin||{})}(this,(function(t){"use strict";let i;const e={width:100,height:10};function a(){if(!i){const{width:t,height:a}=e;OffscreenCanvas?i=new OffscreenCanvas(t,a):(i=document.createElement("canvas"),i.width=t,i.height=a)}return i}t.ColorIn=class{constructor(t,i={}){if(!Array.isArray(t))return void console.error("colors is not array");if(t.length<2)return void console.error("colors.length should >1");this.colors=t;let a=1/0,n=-1/0;for(let i=0,e=t.length;i<e;i++){const e=t[i][0];a=Math.min(e,a),n=Math.max(e,n)}this.min=a,this.max=n,this.valueOffset=this.max-this.min,this.options=Object.assign({},e,i),this._initImgData()}getImageData(){return this.imgData}_initImgData(){const t=a(),{width:i,height:e}=this.options;t.width=i,t.height=e;const n=t.getContext("2d");n.clearRect(0,0,t.width,t.height);const s=n.createLinearGradient(0,0,t.width,0),{colors:o,valueOffset:h}=this;for(let t=0,i=o.length;t<i;t++){const[i,e]=o[t],a=(i-this.min)/h;s.addColorStop(a,e)}n.fillStyle=s,n.fillRect(0,0,t.width,t.height),this.imgData=n.getImageData(0,0,t.width,t.height)}getColor(t){t=Math.max(this.min,t);const i=((t=Math.min(t,this.max))-this.min)/this.valueOffset;let e=Math.round(i*this.imgData.width);e=Math.min(e,this.imgData.width-1);const a=4*e;return[this.imgData.data[a],this.imgData.data[a+1],this.imgData.data[a+2],this.imgData.data[a+3]]}},Object.defineProperty(t,"__esModule",{value:!0})}));
